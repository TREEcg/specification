<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>TREE Discovery and Context Information</title>
  <meta content="CG-DRAFT" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version b25686b9f, updated Fri Mar 14 14:15:20 2025 -0700" name="generator">
  <link href="https://w3id.org/tree/specification/discovery" rel="canonical">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <meta content="85785a1b8560877ffd141bde0836b79dacef0868" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">TREE Discovery and Context Information</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2025-05-14">14 May 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3id.org/tree/specification/discovery">https://w3id.org/tree/specification/discovery</a>
      <dt>Feedback:
      <dd><span><a href="mailto:public-treecg@w3.org?subject=%5BTREEDiscovery%5D%20YOUR%20TOPIC%20HERE">public-treecg@w3.org</a> with subject line “<kbd>[TREEDiscovery] <i data-lt>… message topic …</i></kbd>” (<a href="https://lists.w3.org/Archives/Public/public-treecg/" rel="discussion">archives</a>)</span>
      <dt>Issue Tracking:
      <dd><a href="https://github.com/treecg/specification/issues/">GitHub</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editor:
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://pietercolpaert.be">Pieter Colpaert</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification defines how a client selects a specific dataset and search tree, as well as extracts relevant context information.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#overview"><span class="secno">1</span> <span class="content">Definitions</span></a>
    <li>
     <a href="#starting-from"><span class="secno">2</span> <span class="content">Initializing a client with a url</span></a>
     <ol class="toc">
      <li><a href="#tree-collection-shapes"><span class="secno">2.1</span> <span class="content">Selecting a collection via shapes</span></a>
      <li><a href="#dcat-catalog"><span class="secno">2.2</span> <span class="content">Selecting a collection via a catalog</span></a>
      <li><a href="#tree-search-trees"><span class="secno">2.3</span> <span class="content">Choosing from multiple SearchTrees with TREE</span></a>
      <li>
       <a href="#dcat-dataset"><span class="secno">2.4</span> <span class="content">Selecting a search tree via a DCAT dataset</span></a>
       <ol class="toc">
        <li><a href="#dcat-distribution"><span class="secno">2.4.1</span> <span class="content">Selecting a search tree via DCAT Distribution</span></a>
        <li><a href="#dcat-dataservice"><span class="secno">2.4.2</span> <span class="content">Selecting a search tree from a DCAT data service</span></a>
       </ol>
      <li><a href="#ldes"><span class="secno">2.5</span> <span class="content">Linked Data Event Streams</span></a>
     </ol>
    <li>
     <a href="#context"><span class="secno">3</span> <span class="content">Extracting content information</span></a>
     <ol class="toc">
      <li><a href="#context-dcat"><span class="secno">3.1</span> <span class="content">DCAT and dcterms</span></a>
      <li><a href="#context-prov"><span class="secno">3.2</span> <span class="content">Provenance</span></a>
      <li><a href="#context-ldes"><span class="secno">3.3</span> <span class="content">Linked Data Event Streams</span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="overview"><span class="secno">1. </span><span class="content">Definitions</span><a class="self-link" href="#overview"></a></h2>
   <p>A <code>tree:Collection</code> is a subclass of <code>dcat:Dataset</code> (<a data-link-type="biblio" href="#biblio-vocab-dcat-3" title="Data Catalog Vocabulary (DCAT) - Version 3">[vocab-dcat-3]</a>).
The specialization being that this particular dataset is a collection of _members_.</p>
   <p>A <code>tree:SearchTree</code> is a subClassOf <code>dcat:Distribution</code>.
The specialization being that it uses the main TREE specification to publish a search tree.</p>
   <p>A node from which all other nodes can be found is a <code>tree:RootNode</code>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The <code>tree:SearchTree</code> and the <code>tree:RootNode</code> MAY be identified by the same IRI when no disambiguation is needed.</p>
   <p>A TREE client MUST be provided with a URL to start from, which we call the _entrypoint_.</p>
   <h2 class="heading settled" data-level="2" id="starting-from"><span class="secno">2. </span><span class="content">Initializing a client with a url</span><a class="self-link" href="#starting-from"></a></h2>
   <p>The goal of the client is to understand what <code>tree:Collection</code> it is using, and to find a <code>tree:RootNode</code> to start the traversal phase from.
This discovery specification extends the initialization step in the TREE specification, for the cases in which multiple options are possible.</p>
   <p>The client MUST dereference the URL, which will result in a set of quads. The client now MUST first perform the init step from the main specification.
If that did not return any result, then the client MUST check whether the URL before redirects (<code>E</code>)  has been used in one of the following discovery patterns described in the subsections:</p>
   <ol>
    <li data-md>
     <p><code>E</code> is a <code>tree:Collection</code>: then the client needs to <a href="#tree-search-trees">select the right search tree</a></p>
    <li data-md>
     <p><code>E</code> is a <code>dcat:Dataset</code>: then the client needs to <a href="#dcat-dataset">select the right distribution or dataservice from a catalog</a></p>
    <li data-md>
     <p><code>E</code> is a <code>ldes:EventStream</code>: then the client MAY take into account <a href="#ldes">LDES specific properties</a></p>
    <li data-md>
     <p><code>E</code> is a <code>dcat:Distribution</code>: then the client needs to <a href="#dcat-distribution">process it accordingly</a></p>
    <li data-md>
     <p><code>E</code> is a <code>dcat:DataService</code>: then the client needs to <a href="#dcat-dataservice">process it accordingly</a></p>
    <li data-md>
     <p><code>E</code> is a catalog or is not explicitly mentioned: then it needs to select a dataset based on <a href="#tree-collection-shapes">shape information</a> and <a href="#dcat-catalog">DCAT Catalog information</a></p>
   </ol>
   <h3 class="heading settled" data-level="2.1" id="tree-collection-shapes"><span class="secno">2.1. </span><span class="content">Selecting a collection via shapes</span><a class="self-link" href="#tree-collection-shapes"></a></h3>
   <p>When multiple collections are found by a client, it can choose to prune the collections based on the <code>tree:shape</code> property.
The <code>tree:shape</code> property will refer to a first <code>sh:NodeShape</code>.
The collection MAY be pruned in case there is no overlap with the properties the client needs.</p>
   <p class="issue" id="issue-76f5b111"><a class="self-link" href="#issue-76f5b111"></a> Will we document the precise algorithm to use? Should we extend shapes with cardinality approximations as well?</p>
   <h3 class="heading settled" data-level="2.2" id="dcat-catalog"><span class="secno">2.2. </span><span class="content">Selecting a collection via a catalog</span><a class="self-link" href="#dcat-catalog"></a></h3>
   <p>A DCAT Catalog is an overview of datasets, data services and distributions.
As TREE clients first need to select a dataset, and then a search tree to use, it aligns with how DCAT-AP works.
DCAT discovery extends upon the previous section in which a collection or dataset can be selected based on the <code>tree:shape</code> property.</p>
   <p>For now, we will assume the DCAT information is available in subject pages.</p>
   <p class="issue" id="issue-90830e4f"><a class="self-link" href="#issue-90830e4f"></a> Do we need more text on how to handle different types of DCAT interfaces?</p>
   <p>The dataset descriptions can be used for filtering the datasets available in a catalog to a list of datasets that can be useful for the client.
Such properties may include the spatial extent, the time extent, or how it is possibly a part of another <code>dcat:Dataset</code>.</p>
   <p class="issue" id="issue-23ec75e5"><a class="self-link" href="#issue-23ec75e5"></a> How precise do we need to be in this specification?</p>
   <p>When the <code>dcat:Dataset</code> is a <code>tree:Collection</code>, the DCAT catalog is going to contain a <code>dct:type</code> property with <code>https://w3id.org/tree#Collection</code> or <code>https://w3id.org/ldes#EventStream</code> as the object.</p>
   <h3 class="heading settled" data-level="2.3" id="tree-search-trees"><span class="secno">2.3. </span><span class="content">Choosing from multiple SearchTrees with TREE</span><a class="self-link" href="#tree-search-trees"></a></h3>
   <p class="issue" id="issue-0d1d6316"><a class="self-link" href="#issue-0d1d6316"></a> This is yet to be done</p>
   <h3 class="heading settled" data-level="2.4" id="dcat-dataset"><span class="secno">2.4. </span><span class="content">Selecting a search tree via a DCAT dataset</span><a class="self-link" href="#dcat-dataset"></a></h3>
   <p>The are two ways in which you can find a search tree from a dataset: via the distributions and via the data services. Both need to be tested.
Selecting a distribution or data service when multiple are available needs to be done based on <a href="tree-search-trees">the search tree description</a>.
If nothing is available, all need to be tested by processing them as exemplifie din the next subsections.</p>
   <h4 class="heading settled" data-level="2.4.1" id="dcat-distribution"><span class="secno">2.4.1. </span><span class="content">Selecting a search tree via DCAT Distribution</span><a class="self-link" href="#dcat-distribution"></a></h4>
   <p><code>E dcat:distribution ?D . ?D dcat:downloadURL  ?N .</code> then ?N is a rootnode of E.</p>
   <p class="issue" id="issue-0d1d6316①"><a class="self-link" href="#issue-0d1d6316①"></a> This is yet to be done</p>
   <h4 class="heading settled" data-level="2.4.2" id="dcat-dataservice"><span class="secno">2.4.2. </span><span class="content">Selecting a search tree from a DCAT data service</span><a class="self-link" href="#dcat-dataservice"></a></h4>
   <ul>
    <li data-md>
     <p><code>?DS dcat:servesDataset E ; dcat:endpointURL ?U</code> or <code>E dcat:endpointURL ?U</code>, then the algorithm MUST repeat the algorithm with <code>?U</code> as the entrypoint.</p>
   </ul>
   <p class="issue" id="issue-0d1d6316②"><a class="self-link" href="#issue-0d1d6316②"></a> This is yet to be done</p>
   <h3 class="heading settled" data-level="2.5" id="ldes"><span class="secno">2.5. </span><span class="content">Linked Data Event Streams</span><a class="self-link" href="#ldes"></a></h3>
   <p>In case the client is not made for query answering, but only for setting up a replication and synchronization system, then there is a special type that can be used to indicate the search tree is made for this purpose: the <code>ldes:EventSource</code>.
Clients that want to prioritize taking a _full_ copy MAY give full priority to this server hint.</p>
   <div class="example" id="example-07fbda9d">
    <a class="self-link" href="#example-07fbda9d"></a> 
<pre class="language-turtle highlight">E <c- b>a</c-> <c- nn>ldes</c-><c- p>:</c-><c- f>EventSource</c-> <c- p>;</c->
  <c- nn>tree</c-><c- p>:</c-><c- f>rootNode</c->|<c- nn>dcat</c-><c- p>:</c-><c- f>downloadURL</c-> <c- g>&lt;/node1></c-> <c- p>.</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="3" id="context"><span class="secno">3. </span><span class="content">Extracting content information</span><a class="self-link" href="#context"></a></h2>
   <p class="issue" id="issue-0d1d6316③"><a class="self-link" href="#issue-0d1d6316③"></a> This is yet to be done</p>
   <p>Context information enables a client to understand who the creator of a certain dataset is, when it was last changed, what other datasets it was derived from, etc.</p>
   <h3 class="heading settled" data-level="3.1" id="context-dcat"><span class="secno">3.1. </span><span class="content">DCAT and dcterms</span><a class="self-link" href="#context-dcat"></a></h3>
   <p class="issue" id="issue-0d1d6316④"><a class="self-link" href="#issue-0d1d6316④"></a> This is yet to be done</p>
   <h3 class="heading settled" data-level="3.2" id="context-prov"><span class="secno">3.2. </span><span class="content">Provenance</span><a class="self-link" href="#context-prov"></a></h3>
   <p class="issue" id="issue-0d1d6316⑤"><a class="self-link" href="#issue-0d1d6316⑤"></a> This is yet to be done</p>
   <h3 class="heading settled" data-level="3.3" id="context-ldes"><span class="secno">3.3. </span><span class="content">Linked Data Event Streams</span><a class="self-link" href="#context-ldes"></a></h3>
   <p class="issue" id="issue-0d1d6316⑥"><a class="self-link" href="#issue-0d1d6316⑥"></a> This is yet to be done</p>
   <p>LDES (https://w3id.org/ldes/specification) is a way to evolve search trees in a consistent way. It defines every member as immutable, and a collection as append-only.
Therefore, one can make sure to only process each member once.
Extra terms are added, such as the concept of an EventStream, retention policies and a timestampPath.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-vocab-dcat-3">[VOCAB-DCAT-3]
   <dd>Simon Cox; et al. <a href="https://w3c.github.io/dxwg/dcat/"><cite>Data Catalog Vocabulary (DCAT) - Version 3</cite></a>. URL: <a href="https://w3c.github.io/dxwg/dcat/">https://w3c.github.io/dxwg/dcat/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Will we document the precise algorithm to use? Should we extend shapes with cardinality approximations as well? <a class="issue-return" href="#issue-76f5b111" title="Jump to section">↵</a></div>
   <div class="issue"> Do we need more text on how to handle different types of DCAT interfaces? <a class="issue-return" href="#issue-90830e4f" title="Jump to section">↵</a></div>
   <div class="issue"> How precise do we need to be in this specification? <a class="issue-return" href="#issue-23ec75e5" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316①" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316②" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316③" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316④" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316⑤" title="Jump to section">↵</a></div>
   <div class="issue"> This is yet to be done <a class="issue-return" href="#issue-0d1d6316⑥" title="Jump to section">↵</a></div>
  </div>